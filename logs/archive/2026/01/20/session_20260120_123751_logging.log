
================================================================================
SESSION LOG
================================================================================
Session Name: logging
Session ID: 20260120_123751
Start Time: 2026-01-20 12:37:51
Command: run_tests.py logging
Working Directory: C:\esp32-project
Python Version: 3.10.11
================================================================================

üöÄ Starting session: logging
üìã Logging to: C:\esp32-project\logs\archive\2026\01\20\session_20260120_123751_logging.log
üìä LLM log: C:\esp32-project\logs\archive\2026\01\20\session_20260120_123751_logging.llm.md

Running: pytest tests/unit/test_logging_config.py -v
================================================================================
C:\Users\doghe\AppData\Local\Programs\Python\Python310\lib\site-packages\pytest_asyncio\plugin.py:247: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
============================= test session starts =============================
platform win32 -- Python 3.10.11, pytest-8.3.4, pluggy-1.6.0 -- C:\Users\doghe\AppData\Local\Programs\Python\Python310\python.exe
cachedir: .pytest_cache
PyQt6 6.10.2 -- Qt runtime 6.10.1 -- Qt compiled 6.10.0
rootdir: C:\esp32-project
configfile: pyproject.toml
plugins: cov-4.1.0, anyio-4.12.1, hydra-core-1.3.2, asyncio-1.3.0, base-url-2.1.0, mock-3.15.1, playwright-0.7.2, qt-4.5.0, timeout-2.4.0, xvfb-3.1.1, typeguard-4.4.4
asyncio: mode=strict, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 19 items

tests/unit/test_logging_config.py::TestSetupLogger::test_basic_logger_creation PASSED [  5%]
tests/unit/test_logging_config.py::TestSetupLogger::test_logger_with_custom_level PASSED [ 10%]
tests/unit/test_logging_config.py::TestSetupLogger::test_logger_file_creation PASSED [ 15%]
tests/unit/test_logging_config.py::TestSetupLogger::test_structured_logging PASSED [ 21%]
tests/unit/test_logging_config.py::TestSetupLogger::test_logger_singleton PASSED [ 26%]
tests/unit/test_logging_config.py::TestTerminalCapture::test_capture_print_statements PASSED [ 31%]
tests/unit/test_logging_config.py::TestTerminalCapture::test_capture_multiple_writes PASSED [ 36%]
tests/unit/test_logging_config.py::TestSessionLogger::test_session_creation PASSED [ 42%]
tests/unit/test_logging_config.py::TestSessionLogger::test_session_metadata PASSED [ 47%]
tests/unit/test_logging_config.py::TestSessionLogger::test_log_event PASSED [ 52%]
tests/unit/test_logging_config.py::TestSessionLogger::test_log_exception PASSED [ 57%]
tests/unit/test_logging_config.py::TestSessionLogger::test_session_close PASSED [ 63%]
tests/unit/test_logging_config.py::TestCaptureOutput::test_basic_capture PASSED [ 68%]
tests/unit/test_logging_config.py::TestCaptureOutput::test_capture_with_events PASSED [ 73%]
tests/unit/test_logging_config.py::TestCaptureOutput::test_capture_exception_handling PASSED [ 78%]
tests/unit/test_logging_config.py::TestCaptureOutput::test_stream_restoration PASSED [ 84%]
tests/unit/test_logging_config.py::TestCaptureOutput::test_capture_both_stdout_and_stderr PASSED [ 89%]
tests/unit/test_logging_config.py::TestCleanupOldLogs::test_cleanup_old_files PASSED [ 94%]
tests/unit/test_logging_config.py::TestLoggingIntegration::test_complete_workflow PASSED [100%]

---------- coverage: platform win32, python 3.10.11-final-0 ----------
Name                                                                   Stmts   Miss  Cover   Missing
----------------------------------------------------------------------------------------------------
tools\__init__.py                                                          1      0   100%
tools\script-generator\__init__.py                                         1      1     0%   3
tools\script-generator\broadcast_engine.py                               437    437     0%   14-1163
tools\script-generator\broadcast_freshness.py                            160    160     0%   16-382
tools\script-generator\broadcast_scheduler.py                             60     60     0%   14-124
tools\script-generator\broadcast_scheduler_v2.py                         197    197     0%   21-610
tools\script-generator\consistency_validator.py                          110    110     0%   8-317
tools\script-generator\content_types\__init__.py                           1      1     0%   13
tools\script-generator\content_types\gossip.py                           105    105     0%   10-378
tools\script-generator\content_types\news.py                              70     70     0%   9-300
tools\script-generator\content_types\time_check.py                        80     80     0%   9-371
tools\script-generator\content_types\weather.py                           65     65     0%   10-309
tools\script-generator\demo_llm_validation_integration.py                 86     86     0%   8-147
tools\script-generator\dj_knowledge_profiles.py                          175    175     0%   12-721
tools\script-generator\generator.py                                      402    402     0%   12-1123
tools\script-generator\llm_pipeline.py                                   101    101     0%   16-392
tools\script-generator\llm_validator.py                                  207    207     0%   13-767
tools\script-generator\ollama_client.py                                   77     77     0%   7-208
tools\script-generator\personality_loader.py                              67     67     0%   7-165
tools\script-generator\phase6_validation.py                              328    328     0%   7-714
tools\script-generator\query_helpers.py                                   71     71     0%   10-234
tools\script-generator\query_weather_history.py                          114    114     0%   24-266
tools\script-generator\rag_cache.py                                      164    164     0%   19-456
tools\script-generator\regenerate_weather_calendar.py                     74     74     0%   21-192
tools\script-generator\regional_climate.py                                40     40     0%   12-217
tools\script-generator\segment_plan.py                                    75     75     0%   8-196
tools\script-generator\session_memory.py                                 106    106     0%   8-367
tools\script-generator\set_weather.py                                     69     69     0%   21-201
tools\script-generator\story_system\__init__.py                            2      2     0%   19-29
tools\script-generator\story_system\escalation_engine.py                 143    143     0%   13-418
tools\script-generator\story_system\lore_validator.py                    127    127     0%   13-358
tools\script-generator\story_system\story_extractor.py                   259    259     0%   10-550
tools\script-generator\story_system\story_models.py                      123    123     0%   11-310
tools\script-generator\story_system\story_scheduler.py                   119    119     0%   14-345
tools\script-generator\story_system\story_state.py                       119    119     0%   13-335
tools\script-generator\story_system\story_weaver.py                      113    113     0%   13-334
tools\script-generator\story_system\tests\__init__.py                      0      0   100%
tools\script-generator\story_system\tests\test_escalation_engine.py      154    154     0%   7-449
tools\script-generator\story_system\tests\test_lore_validator.py          92     92     0%   3-268
tools\script-generator\story_system\tests\test_scheduler.py              168    168     0%   3-322
tools\script-generator\story_system\tests\test_story_extractor.py        130    130     0%   3-303
tools\script-generator\story_system\tests\test_story_models.py            95     95     0%   3-283
tools\script-generator\story_system\tests\test_story_weaver.py           142    142     0%   7-341
tools\script-generator\story_system\tests\test_timeline_validator.py      85     85     0%   3-269
tools\script-generator\story_system\timeline_validator.py                104    104     0%   13-324
tools\script-generator\test_broadcast_llm_validation.py                  108    108     0%   8-202
tools\script-generator\test_dj_knowledge_system.py                       132    132     0%   11-386
tools\script-generator\test_llm_validator_standalone.py                  137    137     0%   8-302
tools\script-generator\validation_engine.py                              172    172     0%   18-523
tools\script-generator\validation_rules.py                               157    157     0%   12-491
tools\script-generator\weather_simulator.py                              143    143     0%   10-388
tools\script-generator\world_state.py                                    137    137     0%   8-383
tools\shared\__init__.py                                                   1      0   100%
tools\shared\logging_config.py                                           267     60    78%   72, 170-204, 224, 235-236, 248, 265-271, 335-338, 380, 498, 511, 538, 548-579
tools\shared\mock_ollama_client.py                                       123    100    19%   49-61, 77-114, 118-160, 164-165, 169-177, 181-183, 187-189, 193, 197, 206-234, 239, 244, 249, 254-303
tools\shared\project_config.py                                            18     18     0%   8-42
tools\wiki_to_chromadb\__init__.py                                         1      1     0%   8
tools\wiki_to_chromadb\analyze_dump_stats.py                              89     89     0%   8-199
tools\wiki_to_chromadb\analyze_log.py                                    210    210     0%   12-316
tools\wiki_to_chromadb\benchmark.py                                      202    202     0%   11-390
tools\wiki_to_chromadb\chromadb_ingest.py                                125    125     0%   8-420
tools\wiki_to_chromadb\chunker.py                                        149    149     0%   19-454
tools\wiki_to_chromadb\chunker_v2.py                                     125    125     0%   8-354
tools\wiki_to_chromadb\config.py                                          64     64     0%   7-140
tools\wiki_to_chromadb\constants.py                                       12     12     0%   8-487
tools\wiki_to_chromadb\debug_missing_sections.py                          52     52     0%   5-80
tools\wiki_to_chromadb\debug_sections.py                                  56     56     0%   5-87
tools\wiki_to_chromadb\examples\__init__.py                                0      0   100%
tools\wiki_to_chromadb\examples\example_julie_knowledge.py                51     51     0%   11-93
tools\wiki_to_chromadb\examples\example_query.py                          89     89     0%   7-173
tools\wiki_to_chromadb\examples\example_structural_queries.py            123    123     0%   12-218
tools\wiki_to_chromadb\examples\migrate_chromadb_ingest.py                27     27     0%   19-155
tools\wiki_to_chromadb\extractors.py                                     123    123     0%   8-310
tools\wiki_to_chromadb\logging_config.py                                  36     36     0%   7-81
tools\wiki_to_chromadb\metadata_enrichment.py                            225    225     0%   7-513
tools\wiki_to_chromadb\metadata_enrichment_v2.py                         232    232     0%   13-609
tools\wiki_to_chromadb\models.py                                         166    166     0%   7-279
tools\wiki_to_chromadb\phase6_metadata_audit.py                          260    260     0%   13-694
tools\wiki_to_chromadb\process_wiki.py                                   224    224     0%   19-456
tools\wiki_to_chromadb\re_enrich_database.py                              91     91     0%   8-175
tools\wiki_to_chromadb\re_enrich_phase6.py                               229    229     0%   11-462
tools\wiki_to_chromadb\setup.py                                          112    112     0%   7-188
tools\wiki_to_chromadb\template_parser.py                                 87     87     0%   14-265
tools\wiki_to_chromadb\test_database.py                                   62     62     0%   5-100
tools\wiki_to_chromadb\test_ingestion_quality.py                         129    129     0%   4-278
tools\wiki_to_chromadb\test_new_patterns.py                               45     45     0%   5-80
tools\wiki_to_chromadb\test_section_fix.py                                35     35     0%   2-74
tools\wiki_to_chromadb\tests\__init__.py                                   0      0   100%
tools\wiki_to_chromadb\tests\fixtures\__init__.py                          0      0   100%
tools\wiki_to_chromadb\tests\fixtures\sample_data.py                       8      8     0%   6-78
tools\wiki_to_chromadb\tests\unit\__init__.py                              0      0   100%
tools\wiki_to_chromadb\tests\unit\test_broadcast_metadata.py             165    165     0%   5-372
tools\wiki_to_chromadb\tests\unit\test_chunker_v2.py                     128    128     0%   5-271
tools\wiki_to_chromadb\tests\unit\test_extractors.py                      89     89     0%   7-181
tools\wiki_to_chromadb\tests\unit\test_metadata_enrichment.py            211    211     0%   5-407
tools\wiki_to_chromadb\tests\unit\test_metadata_enrichment_v2.py         145    145     0%   5-305
tools\wiki_to_chromadb\tests\unit\test_phase6_audit.py                    96     96     0%   5-153
tools\wiki_to_chromadb\tests\unit\test_re_enrich_phase6.py               144    144     0%   5-259
tools\wiki_to_chromadb\tests\unit\test_section_fixes.py                   80     80     0%   9-168
tools\wiki_to_chromadb\verify_database.py                                209    209     0%   13-556
tools\wiki_to_chromadb\verify_fixes.py                                    52     52     0%   7-82
tools\wiki_to_chromadb\wiki_parser.py                                     81     81     0%   8-193
tools\wiki_to_chromadb\wiki_parser_v2.py                                  63     63     0%   8-157
----------------------------------------------------------------------------------------------------
TOTAL                                                                  11715  11483     2%


============================= 19 passed in 1.88s ==============================
================================================================================

üìù Logs saved:
   Human-readable: C:\esp32-project\logs\archive\2026\01\20\session_20260120_123751_logging.log
   Structured JSON: C:\esp32-project\logs\archive\2026\01\20\session_20260120_123751_logging.json
   LLM-optimized: C:\esp32-project\logs\archive\2026\01\20\session_20260120_123751_logging.llm.md

================================================================================
SESSION ENDED
End Time: 2026-01-20 12:37:55
Duration: 3.74 seconds
Status: completed
================================================================================

Log saved to: C:\esp32-project\logs\archive\2026\01\20\session_20260120_123751_logging.log
Metadata saved to: C:\esp32-project\logs\archive\2026\01\20\session_20260120_123751_logging.json
LLM log saved to: C:\esp32-project\logs\archive\2026\01\20\session_20260120_123751_logging.llm.md
