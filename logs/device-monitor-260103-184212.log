=== DIAGNOSTIC MODE (ROUND 3) ===

=== STARTING TEST SUITE (ROUND 3) ===

[TEST 1] Missing File Handling
Attempting to play non-existent file...
[  2326][E][vfs_api.cpp:105] open(): /sd/DOES_NOT_EXIST.mp3 does not exist, no permits for creation
File failed to open (Expected).
RESULT: PASS (Graceful failure)

[TEST 2] Fisher-Yates Shuffle Logic
Generating new shuffle order...
Shuffle complete.
Order: 5 7 8 3 0 4 1 2 9 6 
RESULT: PASS (No duplicates in one pass)
Testing Shuffle Wrap-Around...
Generating new shuffle order...
Shuffle complete.
RESULT: PASS (Regenerated and started at 0)

[TEST 3] Sequential Wrap-Around
Current: 4, Total: 5, Next: 0
RESULT: PASS (Wrapped to 0)

[TEST 4] Garbage File Resilience
[  2639][E][vfs_api.cpp:182] remove(): /garbage_test.mp3 does not exists or is directory
Created garbage file.
Attempting to play garbage file...
Decoder accepted file. Running loop...
Decoder stopped (loop returned false).
RESULT: PASS (Stopped gracefully)

[TEST 5] Rapid Fire (Memory Stress)
Start Heap: 313948 bytes
Skipping 20 songs rapidly...
No songs loaded. Scanning SD...
Scanning SD card for MP3 files...
...........................................................................
Found 752 songs.
Playing [10/752]: /Amos Milburn - Wolf On The River.mp3
Playing [5/752]: /Woody Guthrie - I Ain't Got No Home In This World Anymore.mp3
Playing [8/752]: /Alberta Hunter - The Darktown Strutters' Ball.mp3
Playing [7/752]: /Zager & Evans - In the Year 2525.mp3
Playing [2/752]: /Waylon Jennings - I'm a Long Way from Home.mp3
Playing [1/752]: /Warren Smith - Uranium Rock.mp3
Playing [4/752]: /Wilson Pickett - Mustang Sally.mp3
Playing [3/752]: /Webb Pierce - There Stands The Glass.mp3
Playing [6/752]: /Wynonie Harris - Grandma Plays The Numbers.mp3
Playing [9/752]: /Amos Milburn - Atomic Baby.mp3
Playing [61/752]: /Billie Holiday - Speak Low.mp3
Playing [49/752]: /Billie Holiday - Do Nothin' Till You Hear From Me - 1956 Version.mp3
End Heap: 313504 bytes
Memory Loss: 444 bytes
RESULT: PASS (Stable Memory)

[TEST 6] Long Filename Handling
[116315][E][vfs_api.cpp:182] remove(): /Test_Song_With_A_Very_Very_Very_Very_Very_Very_Very_Very_Long_Name_1234567890.mp3 does not exists or is directory
Attempting to open long filename...
File opened successfully.
RESULT: PASS (Long filename supported)

=== ALL TESTS COMPLETE ===
